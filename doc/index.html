<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>booring</title><meta name="description" content="Documentation for booring"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">booring</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>booring</h2></div><div class="tsd-panel tsd-typography"><a id="md:booring" class="tsd-anchor"></a><h1><a href="#md:booring">Booring</a></h1><p>Booring is a lightning fast, feature-rich, mobile optimised web client for a multitude of image boards (called &quot;boorus&quot;) with support for a wide range of different sites and APIs, as well as tools to easily extend support to new sites.</p>
<p><img src="readme/desktop00.png" alt="Screenshot of Booring&#39;s desktop interface"></p>
<p>(Mobile interface shown below)
<img src="readme/mobile00.png" alt="Screenshots of Booring&#39;s mobile interface"></p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li>More pleasant, practical, and user-friendly UI than other clients and the original sites</li>
<li>First-class desktop and mobile support</li>
<li><strong>Search and autocomplete for every site</strong></li>
<li>Highly performant and lightweight, to save battery life on mobile</li>
<li>Safe search option to filter out any NSFW content</li>
<li>Gets around Danbooru&#39;s tag limit, allowing you to search as many tags as you want without buying premium</li>
<li>Highly flexible API to extend support to as many sites as possible, including sites with very unconventional APIs</li>
<li>Support for sites that use both realtime autocomplete, cache-based autocomplete, or no autocomplete at all</li>
<li>&quot;Site Builder&quot; templating class to easily extend support to other standard Booru-like sites</li>
</ul>
<p>The primary purpose of Booring is to act as an alternative, better front-end for common boorus, and nothing more. As such, it only contains the bare minimum features you&#39;d see on typical boorus, like searching and autocomplete. Things like favourites, settings, etc. have been purposely left out.</p>
<a id="md:sites-supported" class="tsd-anchor"></a><h2><a href="#md:sites-supported">Sites Supported</a></h2><ul>
<li>Danbooru</li>
<li>Gelbooru</li>
<li>Yande.re</li>
<li>Safebooru</li>
<li>Konachan</li>
<li>Zerochan</li>
<li>Rule 34</li>
</ul>
<a id="md:disclaimer" class="tsd-anchor"></a><h2><a href="#md:disclaimer">Disclaimer</a></h2><p>This tool is for personal use only, please refrain from hosting it on public servers. By using or installing this tool, you agree to not use to cause harm, whether intentionally or accidentally. <strong>Please do not spam requests to sites.</strong> If a site recieves too much spam, they might consider adding spam protection, which will make it impossible for this tool to access them.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><ol>
<li><code>git clone https://github.com/markpwns1/booring</code></li>
<li><code>npm install</code></li>
<li><code>npm run build:server</code></li>
<li><code>npm run build:client</code></li>
<li><code>npm start</code></li>
<li>The website will then be running at <code>localhost:3000</code>.</li>
</ol>
<a id="md:extending-support-to-other-sites" class="tsd-anchor"></a><h2><a href="#md:extending-support-to-other-sites">Extending Support to Other Sites</a></h2><p>There is a detailed API reference in <code>doc/index.html</code> if you need more info. And don&#39;t be afraid to inspect the source code, either!</p>
<p>To add support for a new site, create a file in <code>src/core/sites</code> and create a class inheriting <code>Site</code>.</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-0">default</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">MySite</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Site</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">override</span><span class="hl-1"> </span><span class="hl-4">autocompleteEnabled</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// If true, this site will be hidden in the site list when safe search is enabled</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">override</span><span class="hl-1"> </span><span class="hl-4">isPorn</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-4">searchInProgress</span><span class="hl-1">: </span><span class="hl-3">JQuery</span><span class="hl-1">.</span><span class="hl-3">jqXHR</span><span class="hl-1"> | </span><span class="hl-3">null</span><span class="hl-1"> = </span><span class="hl-2">null</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">// Name, ID. These can be anything, as long as they&#39;re unique</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-6">&quot;My Site&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;mysite&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Search function to override to provide search functionality</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">override</span><span class="hl-1"> </span><span class="hl-7">search</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">tags</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">[], </span><br/><span class="hl-1">        </span><span class="hl-4">page</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-4">safeSearch</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-7">send</span><span class="hl-1">: (</span><span class="hl-4">posts</span><span class="hl-1">: </span><span class="hl-3">Post</span><span class="hl-1">[]) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-3">void</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-7">complete</span><span class="hl-1">: (</span><span class="hl-4">newPage</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-4">endOfResults</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-3">void</span><span class="hl-1">, </span><br/><span class="hl-1">        </span><span class="hl-7">error</span><span class="hl-1">: (</span><span class="hl-4">error</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-3">void</span><br/><span class="hl-1">    ) { </span><br/><span class="hl-1">        </span><span class="hl-4">searchInProgress</span><span class="hl-1"> = </span><span class="hl-4">$</span><span class="hl-1">.</span><span class="hl-7">getJSON</span><span class="hl-1">(</span><span class="hl-6">`https://mysite.com/search?tags=</span><span class="hl-2">${</span><span class="hl-4">tags</span><span class="hl-2">}</span><span class="hl-6">&amp;p=</span><span class="hl-2">${</span><span class="hl-4">page</span><span class="hl-2">}</span><span class="hl-6">`</span><span class="hl-1">, (</span><span class="hl-4">json</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">[]) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">posts</span><span class="hl-1"> = </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-7">map</span><span class="hl-1">(</span><span class="hl-4">x</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-7">parsePost</span><span class="hl-1">(</span><span class="hl-4">x</span><span class="hl-1">)); </span><span class="hl-5">// Convert the list of JSON objects into a list of Posts</span><br/><span class="hl-1">            </span><span class="hl-7">send</span><span class="hl-1">(</span><span class="hl-4">posts</span><span class="hl-1">); </span><span class="hl-5">// Send the posts to the frontend (can be called multiple times)</span><br/><span class="hl-1">            </span><span class="hl-7">complete</span><span class="hl-1">(</span><span class="hl-4">page</span><span class="hl-1"> + </span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-2">false</span><span class="hl-1">); </span><span class="hl-5">// Signal that the search is complete</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">        .</span><span class="hl-7">fail</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Converts a JSON object with post information into a Booring Post object</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">override</span><span class="hl-1"> </span><span class="hl-7">parsePost</span><span class="hl-1">(</span><span class="hl-4">json</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">): </span><span class="hl-3">Post</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">post</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-7">Post</span><span class="hl-1">(</span><span class="hl-2">this</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1"> = </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">id</span><span class="hl-1">.</span><span class="hl-7">toString</span><span class="hl-1">();</span><br/><br/><span class="hl-1">        </span><span class="hl-5">// A list of image URLs to display in the frontend, in order of smallest to largest</span><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">imageResolutions</span><span class="hl-1"> = [ </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">thumbnail</span><span class="hl-1">, </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">large_image</span><span class="hl-1">, </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">full_size_image</span><span class="hl-1"> ];</span><br/><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">fullWidth</span><span class="hl-1"> = </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">full_size_image_width</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">fullHeight</span><span class="hl-1"> = </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">full_size_image_height</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">originalPost</span><span class="hl-1"> = </span><span class="hl-6">`https://mysite.com/posts/</span><span class="hl-2">${</span><span class="hl-4">json</span><span class="hl-10">.</span><span class="hl-4">id</span><span class="hl-2">}</span><span class="hl-6">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-5">// Anything you want can go in this table and it&#39;ll be displayed in the frontend</span><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">properties</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Rating&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">nsfw</span><span class="hl-1">? </span><span class="hl-6">&quot;18+&quot;</span><span class="hl-1"> : </span><span class="hl-6">&quot;E for Everyone&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Size&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">`</span><span class="hl-2">${</span><span class="hl-4">Math</span><span class="hl-10">.</span><span class="hl-7">round</span><span class="hl-10">(</span><span class="hl-4">json</span><span class="hl-10">.</span><span class="hl-4">file_size</span><span class="hl-10"> </span><span class="hl-1">/</span><span class="hl-10"> </span><span class="hl-9">1000</span><span class="hl-10">)</span><span class="hl-2">}</span><span class="hl-6"> KB (</span><span class="hl-2">${</span><span class="hl-4">json</span><span class="hl-10">.</span><span class="hl-4">full_size_image_width</span><span class="hl-2">}</span><span class="hl-6">x</span><span class="hl-2">${</span><span class="hl-4">json</span><span class="hl-10">.</span><span class="hl-4">full_size_image_height</span><span class="hl-2">}</span><span class="hl-6">)`</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Source&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">source</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Date&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">created_at</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Score&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">score</span><span class="hl-1">.</span><span class="hl-7">toString</span><span class="hl-1">(),</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Favourites&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">favourite_count</span><span class="hl-1">.</span><span class="hl-7">toString</span><span class="hl-1">()</span><br/><span class="hl-1">        };</span><br/><br/><span class="hl-1">        </span><span class="hl-5">// Any category you want can go here, as long as its value is a string[]</span><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">tagTypes</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Artist&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">tags</span><span class="hl-1">.</span><span class="hl-4">artists</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;Character&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">tags</span><span class="hl-1">.</span><span class="hl-4">characters</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-6">&quot;General&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">tags</span><span class="hl-1">.</span><span class="hl-4">general</span><span class="hl-1">,</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-4">post</span><span class="hl-1">.</span><span class="hl-4">requiresVideoPlayer</span><span class="hl-1"> = </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">full_size_image</span><span class="hl-1">.</span><span class="hl-7">endsWith</span><span class="hl-1">(</span><span class="hl-6">&quot;.mp4&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-4">post</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-5">// Abort any searches in progress</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-7">abortSearch</span><span class="hl-1">() { </span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-4">searchInProgress</span><span class="hl-1">?.</span><span class="hl-7">abort</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Then, to register the site, go inside <code>site-registry.ts</code> and add your site to the function.</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">Site</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-6">&quot;./site&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">Danbooru</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-6">&quot;./sites/danbooru&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">Gelbooru</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-6">&quot;./sites/gelbooru&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">// ...</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-4">MySite</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-6">&quot;./sites/mysite&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-0">default</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-7">registerAll</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">Site</span><span class="hl-1">.</span><span class="hl-7">register</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-7">Danbooru</span><span class="hl-1">());</span><br/><span class="hl-1">    </span><span class="hl-4">Site</span><span class="hl-1">.</span><span class="hl-7">register</span><span class="hl-1">(</span><span class="hl-4">Gelbooru</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">// ...</span><br/><br/><span class="hl-1">    </span><span class="hl-4">Site</span><span class="hl-1">.</span><span class="hl-7">register</span><span class="hl-1">(</span><span class="hl-4">MySite</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:proxies" class="tsd-anchor"></a><h3><a href="#md:proxies">Proxies</a></h3><p>Sometimes, a GET request to a site won&#39;t return anything unless you have the right headers, or sometimes a site will disallow cross-domain requests. Booring has a built-in proxy to get around these cases. See the example below:</p>
<pre><code class="language-ts"><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-0">default</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">MySite</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Site</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Override the field `Site.proxyHeaders` with the headers you want to include</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">proxyHeaders</span><span class="hl-1">: { [</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">]: </span><span class="hl-3">string</span><span class="hl-1"> } = {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;Referrer&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">&quot;https://mysite.com/&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;User-Agent&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">&quot;curl 1.20.3&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-5">// ...</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-5">// Then, in the search function, use the proxify(this.id, url) function to route</span><br/><span class="hl-1">    </span><span class="hl-5">// the URL through a proxy</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">override</span><span class="hl-1"> </span><span class="hl-7">search</span><span class="hl-1">(...) { </span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">proxyURL</span><span class="hl-1"> = </span><span class="hl-7">proxify</span><span class="hl-1">(</span><span class="hl-6">&quot;mysite&quot;</span><span class="hl-1"> </span><span class="hl-5">/* or use `this.id` */</span><span class="hl-1">, </span><span class="hl-6">`https://mysite.com/search?tags=</span><span class="hl-2">${</span><span class="hl-4">tags</span><span class="hl-2">}</span><span class="hl-6">&amp;p=</span><span class="hl-2">${</span><span class="hl-4">page</span><span class="hl-2">}</span><span class="hl-6">`</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-4">searchInProgress</span><span class="hl-1"> = </span><span class="hl-4">$</span><span class="hl-1">.</span><span class="hl-7">getJSON</span><span class="hl-1">(</span><span class="hl-4">proxyURL</span><span class="hl-1">, (</span><span class="hl-4">json</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">[]) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">// ...</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">        .</span><span class="hl-7">fail</span><span class="hl-1">(</span><span class="hl-4">error</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>There are some variants too. </p>
<ul>
<li><code>proxify(&quot;generic&quot;, url)</code> will route the URl through a proxy without including any headers. This is just to get around cross-domain request restrictions.</li>
<li><code>proxify(&quot;json&quot;, url)</code> is the same as <code>proxify(&quot;generic&quot;, url)</code> but automatically parses the result into a JSON object.</li>
</ul>
<a id="md:site-builder" class="tsd-anchor"></a><h3><a href="#md:site-builder">Site Builder</a></h3><p>A lot of boorus use the same template, and have more or less the same API. That&#39;s why I also created a &quot;Site Builder&quot; class which helps reduce the boilerplate required to add support for a standard booru site. See the example below:</p>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">TAG_TYPES</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-9">0</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">TagType</span><span class="hl-1">.</span><span class="hl-4">General</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">1</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">TagType</span><span class="hl-1">.</span><span class="hl-4">Artist</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">// ...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-7">parseAutocompleteTag</span><span class="hl-1">(</span><span class="hl-4">json</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">): </span><span class="hl-3">AutocompleteTag</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">label:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">label</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">value</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-8">TAG_TYPES</span><span class="hl-1">[</span><span class="hl-4">json</span><span class="hl-1">.</span><span class="hl-4">type</span><span class="hl-1">] || </span><span class="hl-4">TagType</span><span class="hl-1">.</span><span class="hl-4">General</span><br/><span class="hl-1">    } </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">AutocompleteTag</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-7">parsePost</span><span class="hl-1">(</span><span class="hl-4">json</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">): </span><span class="hl-3">Post</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">// ...</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">MySite</span><span class="hl-1"> = </span><span class="hl-4">SiteBuilder</span><span class="hl-1">.</span><span class="hl-7">buildSite</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-6">&quot;My Site&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">id:</span><span class="hl-1"> </span><span class="hl-6">&quot;mysite&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">isPorn:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-4">proxyHeaders:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">&quot;Referrer&quot;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-6">&quot;https://mysite.com/&quot;</span><br/><span class="hl-1">    },</span><br/><br/><span class="hl-1">    </span><span class="hl-4">searchUrl:</span><span class="hl-1"> </span><span class="hl-7">proxify</span><span class="hl-1">(</span><span class="hl-6">&quot;generic&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;https://mysite.com/search?tags={tags}&amp;p={page}&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-4">searchPageOffset:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">searchTagDelimiter:</span><span class="hl-1"> </span><span class="hl-6">&quot;,&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">searchTransformer:</span><span class="hl-1"> </span><span class="hl-4">parsePost</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-4">autocompleteModule:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">url:</span><span class="hl-1"> </span><span class="hl-7">proxify</span><span class="hl-1">(</span><span class="hl-6">&quot;generic&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;https://mysite.com/autocomplete?q={tag}&quot;</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-4">transformer:</span><span class="hl-1"> </span><span class="hl-4">parseAutocompleteTag</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-0">default</span><span class="hl-1"> </span><span class="hl-4">MySite</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<a id="md:contributing" class="tsd-anchor"></a><h2><a href="#md:contributing">Contributing</a></h2><p>Feel free to open a pull request if you&#39;d like to add support for another site. Search, post viewing, and autocomplete functionality are the bare minimum standards I like to keep when adding sites to Booring.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:booring"><span>Booring</span></a><ul><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:sites-supported"><span>Sites <wbr/>Supported</span></a></li><li><a href="#md:disclaimer"><span>Disclaimer</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:extending-support-to-other-sites"><span>Extending <wbr/>Support to <wbr/>Other <wbr/>Sites</span></a></li><li><ul><li><a href="#md:proxies"><span>Proxies</span></a></li><li><a href="#md:site-builder"><span>Site <wbr/>Builder</span></a></li></ul></li><li><a href="#md:contributing"><span>Contributing</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>booring</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>